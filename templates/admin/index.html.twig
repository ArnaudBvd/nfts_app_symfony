{% extends 'base.html.twig' %}

{% block title %}Hello AdminController!
{% endblock %}

{% block body %}
	<style>
		.example-wrapper {
			margin: 1em auto;
			max-width: 800px;
			width: 95%;
			font: 18px / 1.5 sans-serif;
		}
		.example-wrapper code {
			background: #F5F5F5;
			padding: 2px 6px;
		}
	</style>

	<div class="example-wrapper">
		<h1 class="mb-5">Hello {{ controller_name }}! ✅</h1>

		<div class="accordion" id="accordionExample">
			<div class="accordion-item">
				<h2 class="accordion-header">
					<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
						Gestion des catégories
					</button>
				</h2>
				<div id="collapseOne" class="accordion-collapse collapse show" data-bs-parent="#accordionExample">
					<div class="accordion-body">
						<table class="table">
							<thead>
								<tr>
									<th scope="col">#</th>
									<th scope="col">Libellé</th>
									<th scope="col">Catégorie parent</th>
									<th scope="col">Action (TODO)</th>
								</tr>
							</thead>
							<tbody>
                            {% for categ in categories %}
								<tr>
									<th scope="row">{{ categ.id }}</th>
									<td>{{ categ.libelle }}</td>
									<td>
                                    {% if categ.parent is not null %}
                                    {{ categ.parent.libelle }}</td>
                                    {% endif %}
									<td></td>
								</tr>
                            {% endfor %}
							</tbody>
						</table>

                        {{form(categoryForm)}}
					</div>
				</div>
			</div>

		</div>
	</div>
{% endblock %}
